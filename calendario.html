<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendário</title>
</head>
<body>
    <select id="dia"></select>
    <select id="mes" onchange="preencherDias(event.target.value)"></select>
    <select id="ano" onchange="preencherDias(28)"></select>

    <div id="resposta"></div>

    <script>
        const selectDia = document.querySelector("#dia");
        const selectMes = document.querySelector("#mes");
        const selectAno = document.querySelector("#ano");

        preencherDias();

        const meses = ["Janeiro", "Fevereiro", "Março", "Abril"];
        const dias = [31, 28, 31, 30];

        for(let i = 0; i < meses.length; i++) {
            selectMes.innerHTML += `<option value="${dias[i]}">${meses[i]}</option>`;
        }

        for(let i = 2025; i >= 1975; i--) {
            selectAno.innerHTML += `<option value="${i}">${i}</option>`;
        }

        resposta.innerHTML = `Data Escolhida, ${selectDia.value}/${selectMes.value}/${selectAno.value}`

        function preencherDias(dias) {
            selectDia.innerHTML = "";
            if(selectAno.value % 4 == 0 && selectMes.value == 28){
                for (let i = 1; i <= 29; i++) {
                    selectDia.innerHTML += `<option value="${i}>${i}</option>`;
                }
                return;
            }
            if (dias) {
                for (let i= 1; i <= dias; i++){
                    selectDia.innerHTML += `<option value="${i}">${i}</option>`;
                }
            }else{
                for (let i = 1; i <= 31; i++) {
                    selectDia.innerHTML += `<option value="${i}">${i}</option>`;

                }
            }
        }

    </script>
</body>
</html>